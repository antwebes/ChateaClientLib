--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
OBTENER UN AccesToken entre maquimas.
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
    - datos
        id = 2
	    client_id = 63gig21vk9gc0kowgwwwgkcoo0g84kww00c4400gsc0k8oo4ks
	    secret = 202mykfu3ilckggkwosgkoo8g40w4wws0k0kooo488wo048k0w
	    username=xabier
	    password=xabier
	    server_endpoind http://api.chateagratis.local/app_dev.php/oauth/v2/token
   	    code: OTgxMTIwNzIwODc4OGJhMjNmZDEyM2I4NDhiNmQyOTk4MjU3YzdkNjM5NDI5MjE0MzJiMWM2ODYxNWFjNDAzOQ     (api_chateagratis»oauth_AuthCode['token'])
	- metodos:
--------------------------------------------------------------------------------
	    With GRANT_TYPE_AUTH_CODE	(http://tools.ietf.org/html/rfc6749#section-4.1)
--------------------------------------------------------------------------------
    (* *) The RFC specifies that the parameters should be retrieved from POST
      v
        exmplo con curl:
        	curl --data "grant_type=authorization_code&code=OTgxMTIwNzIwODc4OGJhMjNmZDEyM2I4NDhiNmQyOTk4MjU3YzdkNjM5NDI5MjE0MzJiMWM2ODYxNWFjNDAzOQ&redirect_uri=http://www.chateagratis.net/&client_id=2_63gig21vk9gc0kowgwwwgkcoo0g84kww00c4400gsc0k8oo4ks&client_secret=202mykfu3ilckggkwosgkoo8g40w4wws0k0kooo488wo048k0w" http://api.chateagratis.local/app_dev.php/oauth/v2/token

        exemplo de resposta
{
"access_token":"YjY0ZjdkMTYwNjk5OWUwNjIxM2JlNmNkN2FlNmQ3Zjg2ZTJiNDQ0MWVkNzE4NzdjMTNkYmNmNjBiZmI0NmJlNg",
 "expires_in":3600,
  "token_type":"bearer",
  "scope":"read-only",
  "refresh_token":"Yjg4MjAyZmYzMTBkNTI4ZWVlYzkwYTczMTFhMjZjNTc3YTVjMjYxZjcyMWZhNDE2NWE2OGM4ZWUyZjQzNjAxYQ"
}


--------------------------------------------------------------------------------
	    GRANT_TYPE_USER_CREDENTIALS	(http://tools.ietf.org/html/rfc6749#section-4.3)
--------------------------------------------------------------------------------
    exmplo con curl: 
        curl --data "client_id=2_63gig21vk9gc0kowgwwwgkcoo0g84kww00c4400gsc0k8oo4ks&client_secret=202mykfu3ilckggkwosgkoo8g40w4wws0k0kooo488wo048k0w&grant_type=password&username=xabier&password=xabier" http://api.chateagratis.local/app_dev.php/oauth/v2/token

        exemplo de resposta

{
	"access_token":"OTgxMTIwNzIwODc4OGJhMjNmZDEyM2I4NDhiNmQyOTk4MjU3YzdkNjM5NDI5MjE0MzJiMWM2ODYxNWFjNDAzOQ",
	"expires_in":3600,
    "token_type":"bearer",
    "scope":null,
	"refresh_token":"NTA3MzUyYTM0ZWNhNDA3ZTlmYjc2YmVjNDZiMDcwYmU5ZWZiNjNmYWQwNWMwNmZiMzFlOTJkODMwZTAzN2Q4Nw"
}
--------------------------------------------------------------------------------
	    GRANT_TYPE_CLIENT_CREDENTIALS	(http://tools.ietf.org/html/rfc6749#section-4.4)
--------------------------------------------------------------------------------
    exmplo con curl: 
        curl --data "grant_type=client_credentials&redirect_uri=http://www.chateagratis.net/&client_id=2_63gig21vk9gc0kowgwwwgkcoo0g84kww00c4400gsc0k8oo4ks&client_secret=202mykfu3ilckggkwosgkoo8g40w4wws0k0kooo488wo048k0w" http://api.chateagratis.local/app_dev.php/oauth/v2/token

exemplo de resposta

{
"access_token":"ZDgxN2ZlYjg0YWYwM2U4NjI1ZTExZjY4NTY4NDliYzBlNThmYWFiZmE5MGU3MjBlYmM4OGJmOWIyMDA3MjZlOA",
"expires_in":3600,
"token_type":"bearer",
"scope":"password",
"refresh_token":"NWFhNWM4YzkxN2RjYjE3ZmJlMmE0OGE3N2UxZjI1NGRjOTdjM2IzNTVmYzBkNGIxYzRmYjBkOTdiYmRhYzc1OQ"
}
--------------------------------------------------------------------------------
	    GRANT_TYPE_REFRESH_TOKEN	(http://tools.ietf.org/html/rfc6749#section-6)
--------------------------------------------------------------------------------
    exmplo con curl: 
        curl --data "grant_type=client_credentials&client_id=2_63gig21vk9gc0kowgwwwgkcoo0g84kww00c4400gsc0k8oo4ks&client_secret=202mykfu3ilckggkwosgkoo8g40w4wws0k0kooo488wo048k0w" http://api.chateagratis.local/app_dev.php/oauth/v2/token

    exemplo de resposta
{
"access_token":"ZDQ2NzI0OGZkZDYxMmQ3YzU0MThhZjkwMTBmMzQxNTFjNWRkYzg5MGZlYzEwMDVmYjllN2ZmZWM2M2Y0ODY2Ng",
"expires_in":3600,
"token_type":"bearer",
"scope":"password",
"refresh_token":"MjliMzE1YjhhN2U4MzA1ZDc3MDU0MzIyMTU1N2M3ZWVkOWE2YTZhMGMxMmI2MWRmODA3NDU5NWU5NDk1NjcwYg"
}

--------------------------------------------------------------------------------
	    GRANT_TYPE_<CUSTON>	(http://tools.ietf.org/html/rfc6749#section-4.5)
--------------------------------------------------------------------------------



--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
REGISTRAR UN USUARIO:
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

curl -v -H "Accept: application/json" -H "Content-type: application/json" -X POST -d '{"user_registration":{"username":"ant4","email":"ant4@antweb.es","plainPassword":{"first":"ant3","second":"ant3"}}}' http://api.chateagratis.local/app_dev.php/register

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
CREAR UN CLIENTE:
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
    Crear o cliente:         
php app/console api:oauth-server:client:create --redirect-uri=http://www.chateagratis.net --grant-type=token --grant-type=refresh_token --grant-type=authorization_code --grant-type=password --grant-type=refresh_token --grant-type=client_credentials ant4


--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
Acceso o contido 
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
Simpre envio por header para poder cachear.
curl -v -H "Accept: application/json" -H "Content-type: application/json" -H "Authorization: Bearer $token" -X GET http://api.chateagratis.local/app_dev.php/api/channel/


--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
OBTENER UN AccesToken mediante navegador web
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
Accedemos a y permitimos acceso Cambiando el "response_type" podemos recuperar un token, o un auth code
    - datos
        id = 8
	    client_id = 50danjxjqso4okc0skk0k4o04cgo4owowo4c8ggcg8g4go04ow
	    username=ant4
	    password=ant3
	    server_endpoind http://api.chateagratis.local/app_dev.php/oauth/v2/auth
	- metodos:
--------------------------------------------------------------------------------
	    Solicitar AUTH_CODE	[con formulario]
--------------------------------------------------------------------------------

http://api.chateagratis.local/app_dev.php/oauth/v2/auth?client_id=1_2jqeddjqg6808c8ws0cgcs0g4s0ckkk0s4scso84kckwwocgwc&redirect_uri=http://www.chateagratis.net&response_type=code

return:
http://www.chateagratis.net/?code=NzU3YjQwNGVlNTIxMGQwYjg0ZjBmZmE2NDFlMDhkMDI2YzA1NjIxMGEzNGQwOGY2NWMxYzYwODk5MDc4ZGUyZA

--------------------------------------------------------------------------------
	    Solicitar ACCESS TOKEN	[con formulario]
--------------------------------------------------------------------------------
http://api.chateagratis.local/app_dev.php/oauth/v2/auth?client_id=1_2jqeddjqg6808c8ws0cgcs0g4s0ckkk0s4scso84kckwwocgwc&redirect_uri=http://www.chateagratis.net&response_type=token

return:
http://www.chateagratis.net/#access_token=Y2U5OTYwZTU3MWVkN2ZhODhhZDZlYjRhYWZjMzRkMzVjMDZlNWQ3OTU0OTFiNDI2MTVlZTIyYTQyNjA2MGQ1Mw&expires_in=3600&token_type=bearer&refresh_token=NzhkOWM0NjBhYzJlNjJiMjljYzU2MWFkY2UzY2I4OTBjNDQxNGZhNTA1MTYzY2I3NDg2MmI2MmM1YTY0Yjk4OA

--------------------------------------------------------------------------------
	    Sair da Sessión
--------------------------------------------------------------------------------
http://api.chateagratis.local/app_dev.php/logout
    - rediret: http://api.chateagratis.local/app_dev.php/




